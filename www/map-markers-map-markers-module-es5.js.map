{"version":3,"sources":["webpack:///src/app/map-markers/map-markers.page.html","webpack:///src/app/map-markers/map-markers-routing.module.ts","webpack:///src/app/map-markers/map-markers.module.ts","webpack:///src/app/map-markers/map-markers.page.scss","webpack:///src/app/map-markers/map-markers.page.ts","webpack:///src/app/services/loader.service.ts","webpack:///src/app/services/localstorage.service.ts","webpack:///src/app/services/marker.service.ts"],"names":["routes","path","component","MapMarkersPageRoutingModule","imports","forChild","exports","MapMarkersPageModule","providers","declarations","MapMarkersPage","atrCtrl","markerservice","localstorageservice","storage","modalCtrl","geolocation","nativeGeocoder","zone","marker","markers","map","myLatLng","console","log","getAllMarkers","toPromise","result","forEach","values","position","lat","x","lng","y","title","push","setTimeout","loadMap","latitude","longitude","getCurrentPosition","then","resp","coords","mapEle","document","getElementById","google","maps","Map","center","zoom","event","addListenerOnce","renderMarkers","classList","add","getMarkers","mark","addMarker","Marker","selector","template","LoaderService","loadingController","create","message","duration","res","present","onDidDismiss","dis","dismiss","error","providedIn","LocalstorageService","key","get","val","data","err","value","set","getValue","MarkerService","httpClient","nativeHTTP","loaderservice","httpOpions","headers","apiMarker","pipe","handleError","errorMessage","ErrorEvent","status"],"mappings":"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","file":"map-markers-map-markers-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>mapMarkers</ion-title>\\n    <button ion-button (click)=\\\"callMarkers()\\\"> marker </button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div id=\\\"map\\\"></div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MapMarkersPage } from './map-markers.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MapMarkersPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MapMarkersPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MapMarkersPageRoutingModule } from './map-markers-routing.module';\n\nimport { MapMarkersPage } from './map-markers.page';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder } from '@ionic-native/native-geocoder/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MapMarkersPageRoutingModule\n  ],\n  providers:[\n    Geolocation,\n    NativeGeocoder,\n  ],\n  declarations: [MapMarkersPage]\n})\nexport class MapMarkersPageModule {}\n","export default \"ion-content #map {\\n  width: 100%;\\n  height: 100%;\\n  opacity: 0;\\n  transition: opacity 150ms ease-in;\\n  display: block;\\n}\\nion-content #map.show-map {\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFwLW1hcmtlcnMvbWFwLW1hcmtlcnMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0EsaUNBQUE7RUFDQSxjQUFBO0FBQUo7QUFDSTtFQUNFLFVBQUE7QUFDTiIsImZpbGUiOiJzcmMvYXBwL21hcC1tYXJrZXJzL21hcC1tYXJrZXJzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcbiAgI21hcCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG9wYWNpdHk6IDA7XG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAxNTBtcyBlYXNlLWluO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICYuc2hvdy1tYXB7XG4gICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgfVxufSJdfQ== */\";","import { Component, NgZone, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { Marker } from '../models/marker';\nimport { MarkerService } from '../services/marker.service';\nimport { element } from 'protractor';\nimport { LocalstorageService } from '../services/localstorage.service';\nimport { Storage } from '@ionic/storage';\nimport { ModalController } from '@ionic/angular';\nimport { MapMarker } from '../models/map-marker';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\n\n\ndeclare var google;\n\n@Component({\n  selector: 'app-map-markers',\n  templateUrl: './map-markers.page.html',\n  styleUrls: ['./map-markers.page.scss'],\n})\nexport class MapMarkersPage implements OnInit {\n\n  marker = {} as MapMarker;\n  aMarker : Marker[];\n  markers: MapMarker[] = [];\n\n  map = null;\n\n  address: string;\n  latitude: number;\n  longitude: number;\n  autocomplete: {input:string;};\n  autocompleteItems: any[];\n  location: any;\n  placeid: any;\n  GoogleAutocomplete: any;\n  myLatLng = {};\n\n  constructor(public atrCtrl: AlertController, private markerservice: MarkerService,\n    private localstorageservice:LocalstorageService, private storage: Storage,\n    private modalCtrl: ModalController, private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,\n    public zone: NgZone) { }\n\n  async getMarkers(){\n    console.log(\"Invocando os Markers \");\n    let result = await this.markerservice.getAllMarkers().toPromise();\n    result.forEach((values) => {\n      this.marker = {\n        position: {\n          lat: values[\"addressLocalization\"].x,\n          lng: values[\"addressLocalization\"].y,\n        },\n        title: values[\"companyName\"]\n      }    \n      this.markers.push(this.marker);\n    })\n    console.log(this.markers);\n  }\n\n  ngOnInit() { \n    //this.showMarkers();\n  }\n\n  ngAfterViewInit() {\n    console.log(\"afterinit\");\n    setTimeout(() => {\n      //console.log(this.mapRef.nativeElement);\n      this.loadMap();\n    }, 1000);\n  }\n\n  loadMap() {\n    /*const mapEle: HTMLElement = document.getElementById('map');\n    this.geolocation.getCurrentPosition().then((resp) => {\n      this.latitude = -20.839217;//resp.coords.latitude;\n      this.longitude = -41.128867;//resp.coords.longitude;\n  \n      this.myLatLng = new google.maps.LatLng(this.latitude, this.longitude);\n      let mapOptions = {\n        center: this.myLatLng,\n        zoom: 15\n      }\n      \n      //this.getAddressFromCoords(resp.coords.latitude, resp.coords.longitude);\n\n      this.map = new google.maps.Map(mapEle, mapOptions);\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });*/\n    // create a new map by passing HTMLElement\n    this.latitude = -20.839217;//resp.coords.latitude;\n    this.longitude = -41.128867;//resp.coords.longitude;\n    \n    this.geolocation.getCurrentPosition().then((resp) => {\n      this.latitude = resp.coords.latitude;\n      this.longitude = resp.coords.longitude;\n    }).catch(()=>{\n      this.latitude = -20.839217;//resp.coords.latitude;\n      this.longitude = -41.128867;//resp.coords.longitude;\n    });\n\n    const mapEle: HTMLElement = document.getElementById('map');\n    // create LatLng object\n    const myLatLng = {lat: this.latitude, lng: this.longitude};\n    // create map\n    this.map = new google.maps.Map(mapEle, {\n      center: myLatLng,\n      zoom: 12\n    });\n\n    google.maps.event.addListenerOnce(this.map, 'idle', () => {\n      this.renderMarkers();\n      mapEle.classList.add('show-map');\n    });\n  }\n\n  async showMarkers(){\n    await this.getMarkers();\n  }\n\n  async callMarkers(){\n    await this.getMarkers();\n    this.loadMap()\n  }\n\n  renderMarkers() {\n    this.markers.forEach(mark => {\n      this.addMarker(mark);\n    });\n  }\n\n  addMarker(marker: MapMarker) {\n    return new google.maps.Marker({\n      position: marker.position,\n      map: this.map,\n      title: marker.title\n    });\n  }\n  \n\n}\n","import { Injectable } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoaderService {\n\n  constructor(public loadingController: LoadingController) { }\n\n  showHideAutoLoader() {\n\n    this.loadingController.create({\n      message: 'This Loader Will Auto Hide in 2 Seconds',\n      duration: 2000\n    }).then((res) => {\n      res.present();\n\n      res.onDidDismiss().then((dis) => {\n        console.log('Loading dismissed! after 2 Seconds', dis);\n      });\n    });\n\n  }\n\n  // Show the loader for infinite time\n  showLoader() {\n\n    this.loadingController.create({\n      message: 'Please wait...'\n    }).then((res) => {\n      res.present();\n    });\n\n  }\n\n  // Hide the loader if already created otherwise return error\n  hideLoader() {\n    this.loadingController.dismiss().then((res) => {\n      console.log('Loading dismissed!', res);\n    }).catch((error) => {\n      console.log('error', error);\n    });\n\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalstorageService {\n\n  constructor(private storage:Storage) { }\n\n  async getValue(key:string): Promise<any>{\n    let data:any;\n    await this.storage.get(key).then((val) => {\n      console.log('get '+key+' ,'+val);\n      data = val;\n    })\n    .catch((err)=>{\n      console.log('get error for '+key+' '+err);\n    });\n    return data;\n  }\n\n  setValue(key:string, value:any){\n    this.storage.set(key, value).then((res) =>{\n      console.log('set '+key+' '+res);\n      this.getValue(key);\n    }).catch((err) => {\n      console.log('set error for '+key+' '+err);\n    });\n\n    \n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { retry, catchError } from 'rxjs/operators';\nimport { Marker } from '../models/marker';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport { environment } from 'src/environments/environment';\nimport { LocalstorageService } from './localstorage.service';\nimport { LoaderService } from './loader.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MarkerService {\n\n  constructor(private httpClient: HttpClient, private nativeHTTP: HTTP,\n    private localstorageservice:LocalstorageService, private loaderservice:LoaderService) { }\n\n  httpOpions = {};\n\n  getAllMarkers(): Observable<Marker[]>{   \n    //console.log(token);\n\n    this.  httpOpions = {\n      headers: new HttpHeaders({'Content-Type':'application/json'})\n    }\n\n    return this.httpClient.get<Marker[]>(environment.apiMarker, this.httpOpions)\n    .pipe(\n      retry(2),\n      catchError(this.handleError)\n    )\n  }\n  \n\n  // Manipulação de erros\n  handleError(error: HttpErrorResponse) {\n    let errorMessage = '';\n    if (error.error instanceof ErrorEvent) {\n      // Erro ocorreu no lado do client\n      errorMessage = error.error.message;\n    } else {\n      // Erro ocorreu no lado do servidor\n      errorMessage = `Código do erro: ${error.status}, ` + `menssagem: ${error.message}`;\n    }\n    console.log(errorMessage);\n    return throwError(errorMessage);\n  }\n}\n"]}