{"version":3,"sources":["webpack:///src/app/job-reg/job-reg.page.html","webpack:///src/app/job-reg/job-reg-routing.module.ts","webpack:///src/app/job-reg/job-reg.module.ts","webpack:///src/app/job-reg/job-reg.page.scss","webpack:///src/app/job-reg/job-reg.page.ts","webpack:///src/app/services/jobs.service.ts","webpack:///src/app/services/localstorage.service.ts"],"names":["routes","path","component","JobRegPageRoutingModule","imports","forChild","exports","JobRegPageModule","declarations","JobRegPage","jobservice","localstorage","objJob","oJob","token","addJob","subscribe","ret","console","log","jobForm","jobtitle","jobDescription","getData","getValue","idUserCompany","userToken","company","jobTitle","get","value","jobPOST","selector","template","JobsService","httpClient","httpOpions","headers","job","JSON","stringify","post","apiJobs","pipe","handleError","error","errorMessage","ErrorEvent","message","status","providedIn","LocalstorageService","storage","key","then","val","data","err","set","res"],"mappings":"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","file":"job-reg-job-reg-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons size=\\\"large\\\" slot=\\\"start\\\" (click)=\\\"backToCallingPage()\\\">\\n      <ion-icon name=\\\"arrow-back\\\"></ion-icon> \\n    </ion-buttons>\\n    <ion-title >\\n      Job Register\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n \\n <ion-content>\\n   <form [formGroup]=\\\"jobForm\\\" (ngSubmit)=\\\"submitForm()\\\" novalidate>  \\n     <ion-item>\\n       <ion-label position=\\\"stacked\\\">Job Title<ion-text color=\\\"danger\\\">*</ion-text></ion-label>\\n       <ion-input required type=\\\"text\\\" formControlName=\\\"jobtitle\\\"></ion-input>\\n     </ion-item>\\n     <ion-item>\\n      <ion-label position=\\\"stacked\\\">Job Description<ion-text color=\\\"danger\\\">*</ion-text></ion-label>\\n      <ion-input required  rows=\\\"6\\\" formControlName=\\\"jobDescription\\\"></ion-input>\\n    </ion-item>\\n     <div>\\n       <ion-button type=\\\"submit\\\">Confirm</ion-button>\\n       <ion-button color=\\\"danger\\\">Cancel</ion-button>\\n     </div>\\n   </form>\\n </ion-content>\\n \";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { JobRegPage } from './job-reg.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: JobRegPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class JobRegPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { JobRegPageRoutingModule } from './job-reg-routing.module';\n\nimport { JobRegPage } from './job-reg.page';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FormsModule,\n    ReactiveFormsModule,\n    JobRegPageRoutingModule\n  ],\n  declarations: [JobRegPage]\n})\nexport class JobRegPageModule {}\n","export default \"img {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 150px;\\n  border-radius: 50%;\\n}\\n\\nion-select {\\n  font-size: 12px;\\n  font-weight: 500;\\n}\\n\\nion-label {\\n  font-size: 12px;\\n  font-weight: 500;\\n}\\n\\nion-avatar {\\n  max-width: 25px;\\n  max-height: 25px;\\n  margin-top: 10px;\\n  margin-left: 10px;\\n  margin-bottom: 10px;\\n}\\n\\nh5 {\\n  margin-top: 0;\\n  font-size: 15px;\\n  font-weight: bold;\\n}\\n\\n.subtitle {\\n  font-size: 12px;\\n}\\n\\n.ionIcon {\\n  font-size: 20px;\\n}\\n\\n.header-class {\\n  padding-top: 4px;\\n}\\n\\nion-slides {\\n  height: 100%;\\n}\\n\\nion-slide {\\n  display: block;\\n}\\n\\nion-label, .select-text {\\n  margin-left: 10px;\\n}\\n\\n.invalid {\\n  border: 1px solid #ea6153;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvam9iLXJlZy9qb2ItcmVnLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBRUU7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUFDSjs7QUFFRTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtBQUNKOztBQUVFO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FBQ0o7O0FBQ0U7RUFDRSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBRUo7O0FBQUE7RUFDSSxlQUFBO0FBR0o7O0FBREE7RUFDSSxlQUFBO0FBSUo7O0FBREE7RUFDSSxnQkFBQTtBQUlKOztBQURBO0VBQ0EsWUFBQTtBQUlBOztBQURBO0VBQ0UsY0FBQTtBQUlGOztBQURBO0VBQ0UsaUJBQUE7QUFJRjs7QUFEQTtFQUNFLHlCQUFBO0FBSUYiLCJmaWxlIjoic3JjL2FwcC9qb2ItcmVnL2pvYi1yZWcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW1ne1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICB3aWR0aDogMTUwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB9XG4gIFxuICBpb24tc2VsZWN0e1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICB9XG4gIFxuICBpb24tbGFiZWx7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH1cblxuICBpb24tYXZhdGFyIHtcbiAgICBtYXgtd2lkdGg6IDI1cHg7XG4gICAgbWF4LWhlaWdodDogMjVweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cbiAgaDV7XG4gICAgbWFyZ2luLXRvcDowO1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cbi5zdWJ0aXRsZXtcbiAgICBmb250LXNpemU6IDEycHg7XG59XG4uaW9uSWNvbntcbiAgICBmb250LXNpemU6IDIwcHg7XG59XG5cbi5oZWFkZXItY2xhc3N7XG4gICAgcGFkZGluZy10b3A6IDRweDtcbn1cblxuaW9uLXNsaWRlcyB7XG5oZWlnaHQ6IDEwMCU7XG59XG5cbmlvbi1zbGlkZSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG5pb24tbGFiZWwsIC5zZWxlY3QtdGV4dCB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4uaW52YWxpZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlYTYxNTM7XG59XG5cbiAgXG4gICJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Job } from '../models/job';\nimport { JobsService } from '../services/jobs.service';\nimport { LocalstorageService } from '../services/localstorage.service';\n\n@Component({\n  selector: 'app-job-reg',\n  templateUrl: './job-reg.page.html',\n  styleUrls: ['./job-reg.page.scss'],\n})\nexport class JobRegPage implements OnInit {\n\n  jobForm: FormGroup;\n\n  objJob = {} as Job;\n\n  idUserCompany:any;\n  userToken    : any;\n\n  \n  constructor(private jobservice:JobsService, private localstorage: LocalstorageService) { }\n\n  async jobPOST(oJob:any, token:string){\n    await this.jobservice.addJob(oJob, token).subscribe((ret)=>{\n      console.log(ret);\n    });   ;\n  }\n\n  ngOnInit() {\n    this.jobForm = new FormGroup({\n      jobtitle : new FormControl(),//'', Validators.compose([Validators.required, CompanyValidator.isValid])),\n      jobDescription : new FormControl()\n    });\n    this.getData();\n  }\n\n  async getData(){\n    this.idUserCompany = await this.localstorage.getValue('compId'); \n    this.userToken     = await this.localstorage.getValue('token');\n  }\n\n  submitForm(){\n    this.objJob.company = this.idUserCompany;\n    this.objJob.jobTitle = this.jobForm.get('jobtitle').value;\n    this.objJob.jobDescription = this.jobForm.get('jobDescription').value;\n    //this.postFeed.postDate = formatDate()  date;\n    console.log('olha o token'+this.userToken);\n    console.log('Olha a empresa'+this.idUserCompany);\n    this.jobPOST(this.objJob, this.userToken);\n    //console.log('Pelo menos clicou');\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { retry, catchError } from 'rxjs/operators';\nimport { Job } from '../models/job';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class JobsService {\n\n  httpOpions = {\n    headers: new HttpHeaders({'Authorization':'Bearer '+environment.token})\n  }\n  atrCtrl: any;\n  \n  constructor(private httpClient: HttpClient) { }\n\n  \n  addJob(job: Job, token:string): Observable<Job>{\n    this.httpOpions = {\n      headers: new HttpHeaders({'Authorization':'Bearer '+token})\n    }\n    //this.showConfirm('invocando a api');\n      console.log(JSON.stringify(job))\n       return this.httpClient.post<Job>(environment.apiJobs,job,this.httpOpions)\n       .pipe(\n         retry(2),\n         catchError(this.handleError)\n       )\n     }\n \n   // Manipulação de erros\n   handleError(error: HttpErrorResponse) {\n     let errorMessage = '';\n     if (error.error instanceof ErrorEvent) {\n       // Erro ocorreu no lado do client\n       errorMessage = error.error.message;\n     } else {\n       // Erro ocorreu no lado do servidor\n       errorMessage = `Código do erro: ${error.status}, ` + `menssagem: ${error.message}`;\n     }\n     //this.showConfirm(errorMessage);\n     return throwError(errorMessage);\n   }\n }\n","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalstorageService {\n\n  constructor(private storage:Storage) { }\n\n  async getValue(key:string): Promise<any>{\n    let data:any;\n    await this.storage.get(key).then((val) => {\n      console.log('get '+key+' ,'+val);\n      data = val;\n    })\n    .catch((err)=>{\n      console.log('get error for '+key+' '+err);\n    });\n    return data;\n  }\n\n  setValue(key:string, value:any){\n    this.storage.set(key, value).then((res) =>{\n      console.log('set '+key+' '+res);\n      this.getValue(key);\n    }).catch((err) => {\n      console.log('set error for '+key+' '+err);\n    });\n\n    \n  }\n}\n"]}