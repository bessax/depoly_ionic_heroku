{"version":3,"sources":["./src/app/rent/rent.page.html","./src/app/rent/rent-routing.module.ts","./src/app/rent/rent.module.ts","./src/app/rent/rent.page.scss","./src/app/rent/rent.page.ts","./src/app/services/rent.service.ts"],"names":[],"mappings":"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","file":"rent-rent-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons size=\\\"large\\\" slot=\\\"start\\\" (click)=\\\"backToCallingPage()\\\">\\n      <ion-icon name=\\\"arrow-back\\\"></ion-icon> \\n    </ion-buttons>\\n    <ion-title >\\n      Rent Register\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n \\n <ion-content>\\n   <ion-item-divider>\\n     <!--<div class=\\\"divImg\\\">-->\\n       <img (click)=\\\"selectImage()\\\" src=\\\"{{ photo }}\\\" alt=\\\"OMImports\\\"/>\\n     <!--</div>-->\\n     <!--<ion-button (click)=\\\"callExternalJS()\\\">Photo</ion-button>-->\\n   </ion-item-divider>\\n   <form [formGroup]=\\\"rentForm\\\" (ngSubmit)=\\\"submitForm()\\\" novalidate>  \\n     <ion-item>\\n       <ion-label position=\\\"stacked\\\">Rent Title <ion-text color=\\\"danger\\\">*</ion-text></ion-label>\\n       <ion-input required type=\\\"text\\\" formControlName=\\\"rentTitle\\\"></ion-input>\\n     </ion-item>\\n     <ion-item>\\n      <ion-label position=\\\"stacked\\\">Rent Description <ion-text color=\\\"danger\\\">*</ion-text></ion-label>\\n      <ion-input required type=\\\"text\\\" formControlName=\\\"rentDescription\\\"></ion-input>\\n    </ion-item> \\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Rent Value <ion-text color=\\\"danger\\\">*</ion-text></ion-label>\\n      <ion-input required type=\\\"number\\\" formControlName=\\\"rentValue\\\"></ion-input>\\n    </ion-item> \\n     <div>\\n       <ion-button type=\\\"submit\\\">Confirm</ion-button>\\n       <ion-button color=\\\"danger\\\">Cancel</ion-button>\\n     </div>\\n   </form>\\n </ion-content>\\n \";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RentPage } from './rent.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RentPageRoutingModule } from './rent-routing.module';\n\nimport { RentPage } from './rent.page';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { ImageCropperModule } from 'ngx-image-cropper';\nimport { PictureModalComponent } from '../picture-modal/picture-modal.component';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ImageCropperModule,\n    RentPageRoutingModule,\n  ],\n  declarations: [RentPage, PictureModalComponent],\n  entryComponents: [PictureModalComponent]\n})\nexport class RentPageModule {}\n","export default \"img {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 150px;\\n  border-radius: 50%;\\n}\\n\\nion-select {\\n  font-size: 12px;\\n  font-weight: 500;\\n}\\n\\nion-label {\\n  font-size: 12px;\\n  font-weight: 500;\\n}\\n\\nion-avatar {\\n  max-width: 25px;\\n  max-height: 25px;\\n  margin-top: 10px;\\n  margin-left: 10px;\\n  margin-bottom: 10px;\\n}\\n\\nh5 {\\n  margin-top: 0;\\n  font-size: 15px;\\n  font-weight: bold;\\n}\\n\\n.subtitle {\\n  font-size: 12px;\\n}\\n\\n.ionIcon {\\n  font-size: 20px;\\n}\\n\\n.header-class {\\n  padding-top: 4px;\\n}\\n\\nion-slides {\\n  height: 100%;\\n}\\n\\nion-slide {\\n  display: block;\\n}\\n\\nion-label, .select-text {\\n  margin-left: 10px;\\n}\\n\\n.invalid {\\n  border: 1px solid #ea6153;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVudC9yZW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBRUU7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUFDSjs7QUFFRTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtBQUNKOztBQUVFO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FBQ0o7O0FBQ0U7RUFDRSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBRUo7O0FBQUE7RUFDSSxlQUFBO0FBR0o7O0FBREE7RUFDSSxlQUFBO0FBSUo7O0FBREE7RUFDSSxnQkFBQTtBQUlKOztBQURBO0VBQ0EsWUFBQTtBQUlBOztBQURBO0VBQ0UsY0FBQTtBQUlGOztBQURBO0VBQ0UsaUJBQUE7QUFJRjs7QUFEQTtFQUNFLHlCQUFBO0FBSUYiLCJmaWxlIjoic3JjL2FwcC9yZW50L3JlbnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW1ne1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICB3aWR0aDogMTUwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB9XG4gIFxuICBpb24tc2VsZWN0e1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICB9XG4gIFxuICBpb24tbGFiZWx7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH1cblxuICBpb24tYXZhdGFyIHtcbiAgICBtYXgtd2lkdGg6IDI1cHg7XG4gICAgbWF4LWhlaWdodDogMjVweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cbiAgaDV7XG4gICAgbWFyZ2luLXRvcDowO1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cbi5zdWJ0aXRsZXtcbiAgICBmb250LXNpemU6IDEycHg7XG59XG4uaW9uSWNvbntcbiAgICBmb250LXNpemU6IDIwcHg7XG59XG5cbi5oZWFkZXItY2xhc3N7XG4gICAgcGFkZGluZy10b3A6IDRweDtcbn1cblxuaW9uLXNsaWRlcyB7XG5oZWlnaHQ6IDEwMCU7XG59XG5cbmlvbi1zbGlkZSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG5pb24tbGFiZWwsIC5zZWxlY3QtdGV4dCB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4uaW52YWxpZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlYTYxNTM7XG59XG5cbiAgXG4gICJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { sha256 } from 'js-sha256';\nimport { ActionSheetController, AlertController, ModalController, NavController } from '@ionic/angular';\nimport { LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { PopoverController } from '@ionic/angular';\nimport { PopovercomponentPage } from '../popovercomponent/popovercomponent.page'; \nimport { PictureModalComponent } from '../picture-modal/picture-modal.component';\nimport { Crop } from '@ionic-native/crop/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\nimport { Rent } from '../models/rent';\nimport { RentService } from '../services/rent.service';\nimport { LocalstorageService } from '../services/localstorage.service';\n\n@Component({\n  selector: 'app-rent',\n  templateUrl: './rent.page.html',\n  styleUrls: ['./rent.page.scss'],\n})\nexport class RentPage implements OnInit {\n\n  rentForm: FormGroup;\n\n  croppedImagepath = \"\";\n  isLoading = false;\n\n  imagePickerOptions = {\n    maximumImagesCount: 1,\n    quality: 50\n  };\n\n  objRent = {} as Rent;\n\n  photo : string = '';\n\n  idUserCompany:any;\n  userToken:any;\n\n  constructor(public formBuilder: FormBuilder, public atrCtrl: AlertController, public loadingController: LoadingController,\n    private router:Router, private camera: Camera, private httpClient: HttpClient,\n    private popover:PopoverController, private modalCtrl: ModalController, private crop: Crop, \n    public actionSheetController: ActionSheetController, private file: File, \n    private rentservice: RentService, private localstorage: LocalstorageService) { }\n\n  ngOnInit() {\n    this.rentForm = new FormGroup({\n      rentTitle : new FormControl(),//'', Validators.compose([Validators.required, CompanyValidator.isValid])),\n      rentDescription : new FormControl(),\n      rentValue : new FormControl()\n    });\n    this.getData();\n  }\n\n\n  submitForm(){\n    this.objRent.company = this.idUserCompany;\n    this.objRent.rentTitle = this.rentForm.get('rentTitle').value;\n    this.objRent.rentDescription = this.rentForm.get('rentDescription').value;\n    this.objRent.rentValue = this.rentForm.get('rentValue').value;\n    var re = \"data:image/jpeg;base64,\";\n    this.objRent.rentMedia = this.photo.replace(re,\"\");\n    //console.log(this.company);\n    this.addRent(this.objRent, this.userToken);\n  }\n\n  async getData(){\n    this.idUserCompany = await this.localstorage.getValue('compId'); \n    this.userToken     = await this.localstorage.getValue('token');\n  }\n\n  async addRent(oRent:Rent, token:string){\n    await this.rentservice.addRent(oRent, token).subscribe((ret)=>{\n      console.log(ret);\n    });\n  }\n\n  cropImage(fileUrl) {\n    this.crop.crop(fileUrl, { quality: 50 })\n      .then(\n        newPath => {\n          this.showCroppedImage(newPath.split('?')[0])\n        },\n        error => {\n          alert('Error cropping image' + error);\n        }\n      );\n  }\n\n  showCroppedImage(ImagePath) {\n    this.isLoading = true;\n    var copyPath = ImagePath;\n    var splitPath = copyPath.split('/');\n    var imageName = splitPath[splitPath.length - 1];\n    var filePath = ImagePath.split(imageName)[0];\n\n    this.file.readAsDataURL(filePath, imageName).then(base64 => {\n      this.croppedImagepath = base64;\n      this.photo = this.croppedImagepath;\n      this.isLoading = false;\n    }, error => {\n      alert('Error in showing image' + error);\n      this.isLoading = false;\n    });\n  }\n\n  async selectImage() {\n    const actionSheet = await this.actionSheetController.create({\n      header: \"Select Image source\",\n      buttons: [{\n        text: 'Load from Library',\n        handler: () => {\n          this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY);\n        }\n      },\n      {\n        text: 'Use Camera',\n        handler: () => {\n          this.pickImage(this.camera.PictureSourceType.CAMERA);\n        }\n      },\n      {\n        text: 'Cancel',\n        role: 'cancel'\n      }\n      ]\n    });\n    await actionSheet.present();\n  }\n\n  pickImage(sourceType) {\n    const options: CameraOptions = {\n      quality: 100,\n      sourceType: sourceType,\n      destinationType: this.camera.DestinationType.FILE_URI,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      this.cropImage(imageData)\n    }, (err) => {\n      // Handle error\n    });\n  }\n\n  async openModal(){\n    const modal = await this.modalCtrl.create({\n      component: PictureModalComponent\n    });\n\n    await modal.present();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { retry, catchError } from 'rxjs/operators';\nimport { Rent } from '../models/rent';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RentService {\n\n  httpOpions = {\n    headers: new HttpHeaders({'Authorization':'Bearer '+environment.token})\n  }\n\n  constructor(private httpClient: HttpClient) { }\n\n  addRent(rent: Rent, token:string): Observable<Rent>{\n    this.httpOpions = {\n      headers: new HttpHeaders({'Authorization':'Bearer '+token})\n    }\n      //this.showConfirm('invocando a api');\n      console.log('Passou esse objeto '+JSON.stringify(rent))\n      console.log(this.httpOpions)\n       return this.httpClient.post<Rent>(environment.apiRent,rent,this.httpOpions)\n       .pipe(\n         retry(2),\n         catchError(this.handleError)\n       )\n     }\n \n   // Manipulação de erros\n   handleError(error: HttpErrorResponse) {\n     let errorMessage = '';\n     if (error.error instanceof ErrorEvent) {\n       // Erro ocorreu no lado do client\n       errorMessage = error.error.message;\n     } else {\n       // Erro ocorreu no lado do servidor\n       errorMessage = `Código do erro: ${error.status}, ` + `menssagem: ${error.message}`;\n     }\n     //this.showConfirm(errorMessage);\n     return throwError(errorMessage);\n   }\n }\n"],"sourceRoot":"webpack:///"}